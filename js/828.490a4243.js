"use strict";(self["webpackChunkvue_boilerplate"]=self["webpackChunkvue_boilerplate"]||[]).push([[828],{2828:function(s,e,i){i.r(e),i.d(e,{default:function(){return M}});var o=i(6252),t=i(3577);const c=s=>((0,o.dD)("data-v-7e182fba"),s=s(),(0,o.Cn)(),s),a={class:"header"},n=["src"],l={class:"info"},h=c((()=>(0,o._)("div",{class:"show-type"},"Podcast",-1))),r={class:"show-title"},d={class:"show-publisher"},u={class:"content"},p=c((()=>(0,o._)("div",{class:"section-title"},"Informationen",-1))),w=["innerHTML"],g=c((()=>(0,o._)("div",{class:"section-title"},"Alle Folgen",-1))),m=["onClick"],v=["src"],_={class:"episode-info"},f={class:"episode-title"},k={class:"episode-description"};function b(s,e,i,c,b,y){const C=(0,o.up)("Icon");return(0,o.wg)(),(0,o.iD)("div",{class:"main",style:(0,t.j5)(y.cssBridge)},[b.show?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o._)("div",a,[(0,o._)("div",{class:"back-button",onClick:e[0]||(e[0]=e=>s.$router.go(-1))},[(0,o.Wm)(C,{icon:"mdi:chevron-left-circle",height:"2.5rem",color:"white"})]),(0,o._)("img",{src:y.image.url},null,8,n),(0,o._)("div",l,[h,(0,o._)("div",r,(0,t.zw)(b.show.name),1),(0,o._)("div",d,(0,t.zw)(b.show.publisher),1)])]),(0,o._)("div",u,[p,(0,o._)("div",{class:"description-content",innerHTML:b.show.html_description},null,8,w),g,b.episodes?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(b.episodes,(s=>((0,o.wg)(),(0,o.iD)("div",{key:s.id,class:"episode",onClick:e=>y.play(s)},[(0,o._)("img",{src:s.images[0].url},null,8,v),(0,o._)("div",_,[(0,o._)("div",f,(0,t.zw)(s.name),1),(0,o._)("div",k,(0,t.zw)(s.description),1)])],8,m)))),128)),b.episodes.length<b.max?((0,o.wg)(),(0,o.iD)("div",{key:0,class:"load-more",onClick:e[1]||(e[1]=(...s)=>y.loadMore&&y.loadMore(...s))},"Mehr laden")):(0,o.kq)("",!0)],64)):(0,o.kq)("",!0)])],64)):(0,o.kq)("",!0)],4)}var y=i(3907),C=i(2914),D={name:"ShowView",data(){return{show:void 0,episodes:void 0,color:void 0,max:0}},computed:{...(0,y.rn)({account:"account"}),showId(){return this.$route.params.id},cssBridge(){return{"--color-primary":this.color}},image(){return this.show.images[0]}},watch:{episodes(s){console.log(s)}},mounted(){if(!this.account)return this.$router.push("/login");this.account.api.get("/shows/"+this.showId).then((s=>{this.show=s.data,this.show.images.sort(((s,e)=>s.width>e.width?-1:1)),this.max=this.show.total_episodes,(0,C.j)(this.image).then((s=>this.color=`rgb(${s[0].r},${s[0].g},${s[0].b})`))})).catch((s=>console.log(s))),this.account.api.get("/shows/"+this.showId+"/episodes?limit=20&offset=0").then((s=>{this.episodes=s.data.items})).catch((s=>console.log(s)))},methods:{play(s){console.log(s),this.account.api.put("/me/player/play",{context_uri:this.show.uri,offset:{uri:s.uri}}).then((()=>this.$router.push("/"))).catch((s=>console.log(s.response)))},loadMore(){this.account.api.get("/shows/"+this.showId+"/episodes?limit=20&offset="+this.episodes.length).then((s=>{this.episodes=this.episodes.concat(s.data.items)})).catch((s=>console.log(s)))}}},I=i(3744);const $=(0,I.Z)(D,[["render",b],["__scopeId","data-v-7e182fba"]]);var M=$}}]);
//# sourceMappingURL=828.490a4243.js.map