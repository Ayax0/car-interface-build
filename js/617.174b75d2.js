"use strict";(self["webpackChunkvue_boilerplate"]=self["webpackChunkvue_boilerplate"]||[]).push([[617],{7617:function(t,s,i){i.r(s),i.d(s,{default:function(){return $}});var a=i(6252),l=i(3577);const c=t=>((0,a.dD)("data-v-9d488d14"),t=t(),(0,a.Cn)(),t),e={class:"header"},r=["src"],o={class:"info"},n=c((()=>(0,a._)("div",{class:"playlist-type"}," Playlist ",-1))),d={class:"playlist-title"},h={class:"playlist-publisher"},u={class:"content"},p=c((()=>(0,a._)("div",{class:"section-title"}," Alle Songs ",-1))),k=["onClick"],m=["src"],y={class:"track-info"},g={class:"track-title"},v={class:"track-artists"};function _(t,s,i,c,_,w){const f=(0,a.up)("Icon");return(0,a.wg)(),(0,a.iD)("div",{class:"main",style:(0,l.j5)(w.cssBridge)},[_.playlist?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[(0,a._)("div",e,[(0,a._)("div",{class:"back-button",onClick:s[0]||(s[0]=s=>t.$router.go(-1))},[(0,a.Wm)(f,{icon:"mdi:chevron-left-circle",height:"2.5rem",color:"white"})]),(0,a._)("img",{src:w.image.url},null,8,r),(0,a._)("div",o,[n,(0,a._)("div",d,(0,l.zw)(_.playlist.name),1),(0,a._)("div",h,(0,l.zw)(_.playlist.owner.display_name),1)])]),(0,a._)("div",u,[p,_.tracks?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(_.tracks,(t=>((0,a.wg)(),(0,a.iD)("div",{key:t.track.id,class:"track",onClick:s=>w.play(t.track)},[(0,a._)("img",{src:t.track.album.images[0].url},null,8,m),(0,a._)("div",y,[(0,a._)("div",g,(0,l.zw)(t.track.name),1),(0,a._)("div",v,(0,l.zw)(t.track.artists.map((t=>t.name)).join(", ")),1)])],8,k)))),128)),_.tracks.length<_.max?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"load-more",onClick:s[1]||(s[1]=(...t)=>w.loadMore&&w.loadMore(...t))}," Mehr laden ")):(0,a.kq)("",!0)],64)):(0,a.kq)("",!0)])],64)):(0,a.kq)("",!0)],4)}var w=i(3907),f=i(2914),b={name:"PlaylistView",data(){return{playlist:void 0,tracks:void 0,color:void 0,max:0}},computed:{...(0,w.rn)({account:"account"}),playlistId(){return this.$route.params.id},cssBridge(){return{"--color-primary":this.color}},image(){return this.playlist.images[0]}},mounted(){if(!this.account)return this.$router.push("/login");this.account.api.get("/playlists/"+this.playlistId).then((t=>{this.playlist=t.data,this.max=this.playlist.tracks.total,this.playlist.images.sort(((t,s)=>t.width>s.width?-1:1)),(0,f.j)(this.image).then((t=>this.color=`rgb(${t[0].r},${t[0].g},${t[0].b})`))})).catch((t=>console.log(t))),this.account.api.get("/playlists/"+this.playlistId+"/tracks?limit=20&offset=0").then((t=>{this.tracks=t.data.items})).catch((t=>console.log(t)))},methods:{play(t){console.log(t),this.account.api.put("/me/player/play",{context_uri:this.playlist.uri,offset:{uri:t.uri}}).then((()=>this.$router.push("/"))).catch((t=>console.log(t.response)))},loadMore(){this.account.api.get("/playlists/"+this.playlistId+"/tracks?limit=20&offset="+this.tracks.length).then((t=>{this.tracks=this.tracks.concat(t.data.items)})).catch((t=>console.log(t)))}}},C=i(3744);const D=(0,C.Z)(b,[["render",_],["__scopeId","data-v-9d488d14"]]);var $=D}}]);
//# sourceMappingURL=617.174b75d2.js.map